/*!CK:3360949228!*//*1458859424,*/

if (self.CavalryLogger) { CavalryLogger.start_js(["fpsKD"]); }

__d("AYMTTimeRangeOptions",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={LIFETIME:"lifetime",NONE:"",TODAY:"today",YESTERDAY:"yesterday"};},null);
__d('ReactComposerAudienceAlignment',['cx','csx','ReactComposerActions','ReactComposerEvents','ReactComposerStatusStore','ReactComposerAudienceStore','ReactComposerAudienceActions','Arbiter','AsyncRequest','AudienceSelector','ContextualDialog','CSS','DialogExpansion','DOM','Event','Focus','Keys','ModalMask','PrivacyConst','SelectorDeprecated','Style','XPrivacyAudienceAlignmentLoggingController','curry','ge'],function a(b,c,d,e,f,g,h,i){if(c.__markCompiled)c.__markCompiled();var j=false,k,l,m,n=200;function o(sa,ta){sa.setContext(ta);sa.show();}function p(sa,ta){var ua=c('Style').get(ta.getContentRoot(),'margin-top');sa.setWidth(this.aaa_dialog_width);sa.show();c('Style').set(sa.getContentRoot(),'margin-top',ua);}var q='wwwtux',r='onlyme-wwwtux',s='exposed',t='public_sticky',u='friends_sticky',v='only_me_sticky',w='custom_selection',x='selector',y='holdout',z='dismissal',aa='learn_more',ba='blur',ca='posted';function da(sa,event,ta){var ua=c('XPrivacyAudienceAlignmentLoggingController').getURIBuilder().setEnum('product',sa).setEnum('event',event).setInt('client_time',Date.now());m&&ua.setFloat('shown_duration',(Date.now()-m)/1000);ta&&ua.setInt('value',ta);var va=new (c('AsyncRequest'))().setURI(ua.getURI());va.send();}function ea(sa,ta,ua,va,wa){if(j)return false;if(c('ReactComposerStatusStore').getTextLength(ua)>0)return false;if(!va)return false;var xa=null;if(wa){xa=wa.getSelectedBaseValue();}else xa=parseInt(c('SelectorDeprecated').getValue(va),10);return xa===sa;}function fa(){var sa=c('DOM').scry(document.body,'#pagelet_timeline_recent');if(sa.length>=1){var ta=c('DOM').scry(sa[0],'li.fbTimelineComposerCapsule');if(ta.length>=1)return ta[0];}return null;}function ga(sa,ta,ua,va){var wa;if(va){wa=va.getMenuElement();}else{var xa=c('DOM').find(ua,'div.audienceSelector');wa=c('DOM').scry(xa,'div.wrap');}if(wa.length<1)return;var ya=fa(),za;if(va){va.subscribeOnce('open',function(){if(ya)c('CSS').addClass(ya,"_2wc-");c('ContextualDialog').setContext(ta,wa);ta.show();});}else za=c('SelectorDeprecated').listen(xa,'open',function(){var cb=c('DOM').scry(wa[0],'div.uiSelectorMenuWrapper');if(cb.length>0){if(ya)c('CSS').addClass(ya,"_2wc-");c('ContextualDialog').setContext(ta,cb[0]);ta.setOffsetX(12);ta.show();}else c('ModalMask').hide();c('SelectorDeprecated').unsubscribe(za);});if(va){va.getPopover().subscribeOnce('hide',function(){ha(ta,wa,ya,sa);});}else var ab=c('SelectorDeprecated').listen(xa,'close',function(){ha(ta,wa[0],ya,sa);c('SelectorDeprecated').unsubscribe(ab);});if(va){c('CSS').addClass(wa,"_35mn");var bb=va.getTriggerButtonElement();c('CSS').addClass(bb,"_35mn");}else c('CSS').addClass(wa[0],"_35mn");setTimeout(function(){c('ModalMask').show();c('Style').set(c('ModalMask').getNode(),'opacity','0.3');c('Style').set(c('ModalMask').getNode(),'background-color','rgb(0,0,0)');if(va){va.openSelectorExpanded();}else c('SelectorDeprecated').toggle(xa);},20);}function ha(sa,ta,ua,va){c('ModalMask').hide();sa.hide();c('CSS').removeClass(ta,"_35mn");if(ua)c('CSS').removeClass(ua,"_2wc-");ia(va);}function ia(sa){var ta=c('DOM').scry(sa,"._5yk2").pop();ta&&c('Focus').set(ta);}function ja(sa,ta,ua,va){sa.unsubscribe(l);sa.hide();ia(ua);c('Arbiter').subscribeOnce(c('ReactComposerEvents').POST_STARTED+ta,function(){da(va,ca);});}function ka(sa){return c('ReactComposerAudienceStore').getAudienceElement(sa);}function la(sa){return c('ReactComposerAudienceStore').getAudienceInstance(sa);}function ma(sa,ta,ua,va,wa,xa){var ya=ka(sa),za=la(sa),ab=pa(va),bb=oa(va);if(ab===null||!bb)return;ja(ua,sa,ta,xa);if(za){za.selectOption(ab);}else c('AudienceSelector').setAudience(ta,va);c('ReactComposerAudienceActions').setAudience(sa,ab,va);o(wa,ya);da(xa,bb);}function na(sa){switch(sa){case c('PrivacyConst').BaseValue.EVERYONE:return q;case c('PrivacyConst').BaseValue.SELF:return r;default:return null;}}function oa(sa){switch(sa){case c('PrivacyConst').BaseValue.EVERYONE:return t;case c('PrivacyConst').BaseValue.ALL_FRIENDS:return u;case c('PrivacyConst').BaseValue.SELF:return v;default:return null;}}function pa(sa){switch(sa){case c('PrivacyConst').BaseValue.EVERYONE:return c('PrivacyConst').PostParam.EVERYONE;case c('PrivacyConst').BaseValue.ALL_FRIENDS:return c('PrivacyConst').PostParam.FRIENDS;case c('PrivacyConst').BaseValue.SELF:return c('PrivacyConst').PostParam.ONLY_ME;default:return null;}}function qa(sa,ta,ua,va,wa,xa,ya){var za=c('ReactComposerAudienceStore').getAudienceElement(xa)!=null;if(!za){setTimeout(function(){return qa(sa,ta,ua,va,wa,xa,ya);},n);return;}var ab=ka(xa),bb=la(xa);if(ea(sa,ua,xa,ab,bb)){m=Date.now();if(ta){da(ya,y);}else{da(ya,s);setTimeout(function(){va.show();var cb=wa.parentElement;this.aaa_dialog_width=va.getWidth()+cb.offsetWidth-490;var db=new (c('DialogExpansion'))(va);db.setTargetWidth(this.aaa_dialog_width);db._onAfterShow();c('Focus').set(va.getRoot());},100);}}}var ra={abort:function(){j=true;},startOnComposerFocus:function(sa,ta,ua,va,wa,xa,ya,za,ab,bb,cb,db,eb,fb,gb,hb,ib,jb){var kb=c('ge')(jb);if(!kb)return;var lb=na(sa);if(!lb)return;c('Arbiter').subscribeOnce(c('ReactComposerEvents').MENTION_INPUT_FOCUS+jb,function(){qa(sa,ta,kb,ua,cb,jb,lb);});c('Event').listen(cb,'click',c('curry')(ma,jb,kb,ua,bb,va,lb));c('Event').listen(eb,'click',c('curry')(ma,jb,kb,ua,db,wa,lb));c('Event').listen(fb,'click',function(){ua.subscribe('hide',function(){var mb=ka(jb),nb=la(jb);if(nb)nb.subscribeOnce('changed',function(event,ob){da(lb,w,ob.base_value);});if(xa)ga(kb,xa,mb,nb);});ja(ua,jb,kb,lb);da(lb,x);});if(gb)c('Event').listen(gb,'click',function(){var mb=ka(jb);ja(ua,jb,kb,lb);da(lb,z);if(ya)o(ya,mb);});l=ua.subscribe('hide',function(){var mb=ka(jb);ia(kb);da(lb,z);if(za)o(za,mb);});k=ua.subscribe('blur',function(){da(lb,ba);});c('Event').listen(hb,'click',function(event){p(ab,ua);da(lb,aa);});c('Event').listen(ib,'click',function(event){ab.hide();});if(gb)c('Event').listen(ab.getRoot(),'keydown',function(event){if(c('Event').getKeyCode(event)===c('Keys').ESC){ab.hide();c('Event').kill(event);}});}};f.exports=ra;},null);