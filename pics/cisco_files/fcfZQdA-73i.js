/*!CK:2237310987!*//*1458860217,*/

if (self.CavalryLogger) { CavalryLogger.start_js(["2j\/Qz"]); }

__d('ReactComposerGroupPostButtonContainer.react',['cx','ReactComposerActions','ReactComposerAttachmentStore','ReactComposerAttachmentType','ReactComposerConfig','ReactComposerContextMixin','ReactComposerGroupStore','ReactComposerMediaAttachmentPostButtonContainer.react','ReactComposerPhotoStore','ReactComposerPhotoUploadStore','ReactComposerPostButtonContainer.react','ReactComposerPropsAndStoreBasedStateMixin','ReactComposerStore','ReactComposerSellStore','ReactComposerVideoUploadStore','Bootloader','GroupSellInterceptUtil','ReactComponentWithPureRenderMixin','React'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();var i=c('React').createClass({displayName:'ReactComposerGroupPostButtonContainer',mixins:[c('ReactComposerContextMixin'),c('ReactComponentWithPureRenderMixin'),c('ReactComposerPropsAndStoreBasedStateMixin')(c('ReactComposerAttachmentStore'),c('ReactComposerPhotoStore'),c('ReactComposerPhotoUploadStore'),c('ReactComposerStore'),c('ReactComposerVideoUploadStore'))],propTypes:{config:c('ReactComposerConfig').isRequired},statics:{calculateState:function(j,k,l){return {};}},_performInterceptAttempt:function(j,k){if(c('GroupSellInterceptUtil').shouldAttemptInterceptReact(j,k,c('ReactComposerSellStore').getInterceptWords(j),c('ReactComposerSellStore').getInterceptedWordsAfterNumber(j),c('ReactComposerSellStore').getCurrencySymbol(j))){this.refs.sellIntercept.showDialog(j,k);return false;}return true;},componentDidMount:function(){c('ReactComposerGroupStore').registerComposerID(this.context.composerID);if(this._shouldAttemptIntercept()){c('ReactComposerActions').registerPostIntendedHandler(function(j,k,l,m){return this._performInterceptAttempt(j,m);}.bind(this));c('Bootloader').loadModules(["GroupSellInterceptDialog.react"],function(j){return this.setState({sellInterceptDialog:j});}.bind(this));}},render:function(){var j=this.state.sellInterceptDialog;return (c('React').createElement('div',{className:"_332r"},this._isMediaAttachment()?c('React').createElement(c('ReactComposerMediaAttachmentPostButtonContainer.react'),babelHelpers['extends']({},this.props,{config:this.props.config,onClickPreprocess:this._onClickPreprocess})):c('React').createElement(c('ReactComposerPostButtonContainer.react'),babelHelpers['extends']({},this.props,{config:this.props.config,onClickPreprocess:this._onClickPreprocess})),j?c('React').createElement(j,{post:function(){return this._startPost();}.bind(this),ref:'sellIntercept'}):null));},_isMediaAttachment:function(){var j=c('ReactComposerAttachmentStore').getSelectedAttachmentID(this.context.composerID);return j===c('ReactComposerAttachmentType').MEDIA;},_shouldAttemptIntercept:function(){var j=this.props.config.attachmentsConfig[c('ReactComposerAttachmentType').STATUS];return j.attemptIntercept;},_onClickPreprocess:function(){if(this._shouldAttemptIntercept()){var j=this.context.composerID,k=this.context.targetID;return this._performInterceptAttempt(j,k);}return true;},_startPost:function(){c('ReactComposerActions').postStarted(this.context.composerID,{actorID:this.context.actorID,config:this.props.config,targetID:this.context.targetID});}});f.exports=i;},null);