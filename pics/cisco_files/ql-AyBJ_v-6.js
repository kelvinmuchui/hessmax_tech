/*!CK:1196764098!*//*1458859729,*/

if (self.CavalryLogger) { CavalryLogger.start_js(["EnugS"]); }

__d("AdminProposalsLoggerEvent",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={KNOWLEDGE_CREATED_PROPOSAL:"knowledge_created_proposal",KNOWLEDGE_UPDATED_PROPOSAL:"knowledge_updated_proposal",KNOWLEDGE_INVALIDATED_PROPOSAL:"knowledge_invalidated_proposal",ALARM_CLOCK_CREATED:"alarm_clock_created",DAILY_ACTION_CALLED:"daily_action_called",ALARM_CLOCK_STATUS_CHANGED:"alarm_clock_status_changed",EXPLOSION_OCCURRED:"explosion_occurred",NOTIFICATION_SENT:"notification_sent",VIEWED_REQUESTS_TAB:"viewed_requests_tab",ENTERED_FROM_NOTIFICATION:"entered_from_notification",ENTERED_FROM_ALARM_CLOCK_NOTIFICATION:"entered_from_alarm_clock_notification",ENTERED_FROM_ALARM_CLOCK_EMAIL:"entered_from_alarm_clock_email",VIEWED_PROPOSAL:"viewed_proposal",ACCEPTED_PROPOSAL:"accepted_proposal",REJECTED_PROPOSAL:"rejected_proposal"};},null);
__d('PageWebsiteLogger',['Banzai','Event'],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h={init:function(i,j,k,l){c('Event').listen(i,'click',function(m){this.log({user_id:j,page_id:k,website_url:l});}.bind(this));},log:function(i){c('Banzai').post('page_website_logger',i);}};f.exports=h;},null);
__d('ComposerXPages',['Arbiter','CurrentUser','DOM','DOMScroll','URI','Event','ge','ReactComposerAttachmentActions','ReactComposerAttachmentType'],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h={initScrollToComposer:function(i){c('Event').listen(i,'click',function(){this._scrollAndFocus(c('ge')('pagelet_timeline_recent'));}.bind(this));},initScrollToComposerWithUserVoice:function(i,j){c('Event').listen(i,'click',function(){var k=c('ge')(j);c('Arbiter').inform('ComposerXPages/composePostWithActor',{actorID:c('CurrentUser').getID(),callback:function(){c('DOM').find(k,'textarea.input').focus();}});this._scrollAndFocus(k);}.bind(this));},scrollToComposer:function(i){var j=window.location.href;if(c('URI').getRequestURI().getQueryData().focus_composer||c('URI').getRequestURI().getQueryData().scroll_to_composer){c('Event').listen(window,'load',function(){this._scrollAndFocus(i);}.bind(this));}else if(j.indexOf("focus_composer")!=-1)this._scrollAndFocus(i);},registerForAutoClose:function(i,j){c('Arbiter').subscribe('Pages/composeFinished',function(k,l){if(l.composerID===j){i.hide();if(l.contentID)c('Arbiter').inform('composer/publish',{content_id:l.contentID,matchData:{content_id:l.contentID}});}});},openMediaTab:function(i){c('ReactComposerAttachmentActions').selectAttachment(i.id,c('ReactComposerAttachmentType').MEDIA,true);},_scrollAndFocus:function(i){c('DOMScroll').scrollTo(i,500,false,false,0,function(){c('DOM').find(i,'textarea.input').focus();});}};f.exports=h;},null);
__d('CurrentPage',['invariant','Run'],function a(b,c,d,e,f,g,h){'use strict';if(c.__markCompiled)c.__markCompiled();var i=null,j=null,k={init:function(l){var m=l.pageID,n=l.pageName;this.setID(m);this.setName(n);c('Run').onLeave(this._clear);},getID:function(){!(i!==null)?h(0):void 0;return i;},setID:function(l){if(!i)i=l;},getName:function(){!(j!==null)?h(0):void 0;return j;},setName:function(l){if(!j)j=l;},_clear:function(){i=null;j=null;}};f.exports=k;},null);
__d("XPagesPresenceController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/pages\/presence\/",{});},null);
__d('PagePresencePoller',['ActorURI','AsyncRequest','UserActivity','XPagesPresenceController'],function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();var h=90000,i=0,j=function(l){i=Date.now();var m=c('ActorURI').create(c('XPagesPresenceController').getURIBuilder().getURI(),l);new (c('AsyncRequest'))().setURI(m).send();},k={init:function(l){c('UserActivity').subscribe(function(){if(Date.now()-i>h)j(l);});setInterval(function(){if(c('UserActivity').isActive())j(l);},h);}};f.exports=k;},null);
__d('ContextRowEventLogger',['Event','BanzaiLogger'],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h={registerContextRowClickAction:function(i,j){c('Event').listen(i,'click',function(){c('BanzaiLogger').log('PageContextRowEventsLoggerConfig',j);});}};f.exports=h;},null);
__d('PagesPostsSection',['csx','cx','Arbiter','LoadingIndicator.react','Parent','React','ReactDOM','UIPagelet'],function a(b,c,d,e,f,g,h,i){if(c.__markCompiled)c.__markCompiled();var j={HIGHLIGHTS:0,ALL_POSTS:1};function k(l,m,n,o){'use strict';this.$PagesPostsSection1=l;this.$PagesPostsSection2=n;this.$PagesPostsSection3=o||j.HIGHLIGHTS;this.$PagesPostsSection4=null;if(m){this.$PagesPostsSection5=m;this.$PagesPostsSection5.setPostClickHandler(this.$PagesPostsSection6.bind(this));}if(!this.$PagesPostsSection2.hidden)this.$PagesPostsSection4=c('Arbiter').subscribe('PagesTimelineSearch/search',this.$PagesPostsSection7.bind(this));}k.prototype.$PagesPostsSection7=function(l,m){'use strict';var n=c('Parent').bySelector(this.$PagesPostsSection1,"._1k4h");n.parentNode.style.minHeight=window.innerHeight+'px';c('ReactDOM').render(c('React').createElement(c('LoadingIndicator.react'),{size:'small',color:'white',className:'loadingIndicator'}),this.$PagesPostsSection1);this.$PagesPostsSection2.search_query=m.query;c('UIPagelet').loadFromEndpoint('PagePostsSectionPagelet',n.parentNode,this.$PagesPostsSection2,{displayCallback:function(o){if(this.$PagesPostsSection4){c('Arbiter').unsubscribe(this.$PagesPostsSection4);this.$PagesPostsSection4=null;}o();c('Arbiter').inform('PagesTimelineSearch/searchDone',{query:m.query});}.bind(this)});};k.prototype.$PagesPostsSection6=function(l,m){'use strict';var n=c('Parent').bySelector(this.$PagesPostsSection1,"._1k4h");n.parentNode.style.minHeight=window.innerHeight+'px';c('ReactDOM').render(c('React').createElement(c('LoadingIndicator.react'),{size:'small',color:'white',className:'loadingIndicator'}),this.$PagesPostsSection1);m.item.disable();if(this.$PagesPostsSection3!=j.ALL_POSTS){this.$PagesPostsSection3=j.ALL_POSTS;this.$PagesPostsSection2.show_all_posts=true;}else{this.$PagesPostsSection3=j.HIGHLIGHTS;this.$PagesPostsSection2.show_all_posts=false;}c('UIPagelet').loadFromEndpoint('PagePostsSectionPagelet',n,this.$PagesPostsSection2,{displayCallback:function(o){o();m.item.enable();}});};f.exports=k;},null);
__d('PagesPostsSections',['csx','Arbiter','CSS','DOM','DOMScroll','Event','PagesTimelineController','ScrollingPager','Vector','queryThenMutateDOM','tidyEvent'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();var i=120,j='PagesPostsSections/scrollListener';function k(l){'use strict';this.$PagesPostsSections1=l;this.$PagesPostsSections2={};this.$PagesPostsSections3=0;this.$PagesPostsSections4=0;for(var m=0;m<this.$PagesPostsSections1.length;m++){this.$PagesPostsSections2[this.$PagesPostsSections1[m].key]={section:this.$PagesPostsSections1[m].section,index:m};this.$PagesPostsSections1[m].loaded=!m;this.$PagesPostsSections1[m].fire_on_scroll_enabled=true;this.$PagesPostsSections1[m].first_posts_loaded=!m;}var n=function(o,p){if(p.section_index+1<this.$PagesPostsSections1.length){c('CSS').show(this.$PagesPostsSections1[p.section_index+1].section);c('Arbiter').inform('dom-scroll');}if(this.$PagesPostsSections3<this.$PagesPostsSections1.length-1)this.$PagesPostsSections1[++this.$PagesPostsSections3].loaded=true;};c('tidyEvent')(c('Arbiter').subscribe(c('PagesTimelineController').SECTION_FULLY_LOADED,n.bind(this)));c('tidyEvent')(c('Arbiter').subscribe(c('PagesTimelineController').LOAD_SECTION,this.loadSection.bind(this)));c('tidyEvent')(c('Event').listen(window,'scroll',this.scrollListener.bind(this)));c('tidyEvent')(c('Arbiter').subscribe(c('PagesTimelineController').FIRST_POSTS_LOADED,this.firstPostsLoaded.bind(this)));c('tidyEvent')(c('Arbiter').subscribe(c('PagesTimelineController').REMOVE_SECTION,this.removeSection.bind(this)));}k.prototype.firstPostsLoaded=function(l,m){'use strict';var n=document.getElementsByClassName('ego_ads_boost_post_nux_context');if(n.length){var o=c('Vector').getScrollPosition().x,p=c('Vector').getElementPosition(n[0]).y-i;c('DOMScroll').scrollTo(new (c('Vector'))(o,p,'document'));}var q=this.$PagesPostsSections2[m.section_key];q.section.style.minHeight='';this.$PagesPostsSections1[q.index].first_posts_loaded=true;};k.prototype.loadSection=function(l,m){'use strict';var n=this.$PagesPostsSections2[m.section_key].section,o=this.$PagesPostsSections2[m.section_key].index;for(var p=0;p<o;p++){if(p!==o)this.setFireOnScroll(p,false);if(p>=this.$PagesPostsSections3){c('CSS').show(this.$PagesPostsSections1[p].section);this.$PagesPostsSections1[p].loaded=true;}}this.$PagesPostsSections3=o;if(!this.$PagesPostsSections1[o].first_posts_loaded){if(!this.$PagesPostsSections1[o].fire_on_scroll_enabled)this.setFireOnScroll(o,true);n.style.minHeight=window.innerHeight+'px';}if(!o&&!this.$PagesPostsSections1[o].loaded){c('DOMScroll').scrollTo(document.body);}else{c('CSS').show(n);this.$PagesPostsSections1[this.$PagesPostsSections3].loaded=true;var q=c('Vector').getScrollPosition().x,r=c('Vector').getElementPosition(n).y-i;c('DOMScroll').scrollTo(new (c('Vector'))(q,r,'document'));}};k.prototype.setFireOnScroll=function(l,m){'use strict';var n=this.$PagesPostsSections1[l].section,o=c('DOM').scry(n,"div._5t6j"),p=o.length?o[o.length-1]:null;if(p){var q=c('ScrollingPager').getInstance(p.id);if(q){this.$PagesPostsSections1[l].fire_on_scroll_enabled=m;if(m){q.register();}else q.removeOnVisible();}}};k.prototype.scrollListener=function(event){'use strict';c('queryThenMutateDOM')(this.getActiveSectionIndex.bind(this),function(){c('PagesTimelineController').activateScrubberItem(this.$PagesPostsSections1[this.$PagesPostsSections4].key);}.bind(this),j);};k.prototype.getActiveSectionIndex=function(){'use strict';var l=0;for(var m=0;m<this.$PagesPostsSections1.length;m++){var n=this.$PagesPostsSections1[m].section,o=c('Vector').getElementPosition(n,'viewport').y;if(o>i)break;if(this.$PagesPostsSections1[m].loaded)l=m;}if(l!=this.$PagesPostsSections4)this.$PagesPostsSections4=l;};k.prototype.removeSection=function(l,m){'use strict';var n=this.$PagesPostsSections2[m.section_key].index;this.$PagesPostsSections1[n].loaded=false;c('CSS').hide(this.$PagesPostsSections2[m.section_key].section);};f.exports=k;},null);
__d('PagesTimelineChaining',['csx','cx','Arbiter','CSS','Event','PageLikeConstants','Parent','Style','UIPagelet','tidyEvent'],function a(b,c,d,e,f,g,h,i){if(c.__markCompiled)c.__markCompiled();var j={_recentlyLikedPageIDs:{},container:null,init:function(k,l){this.container=k;if(!this._showChainSuggestions(l.pageID))this._subscriptions=[c('Arbiter').subscribe(c('PageLikeConstants').LIKED,this.onLike.bind(this,l.pageID)),c('Arbiter').subscribe(c('PageLikeConstants').UNLIKED,this.onUnlike.bind(this))];},onLike:function(k,l,m){if(m.profile_id===k&&c('Parent').bySelector(m.target,"._5d_i")){this._recentlyLikedPageIDs[k]=true;this._showChainSuggestions(k);this._subscriptions.forEach(function(n){return c('Arbiter').unsubscribe(n);});this._subscriptions=[];}},onUnlike:function(k,l){c('UIPagelet').loadFromEndpoint('PagesLikeCheckupPagelet',this.container,{},{displayCallback:this.displayCallback.bind(this)});this._subscriptions.forEach(function(m){return c('Arbiter').unsubscribe(m);});this._subscriptions=[];},displayCallback:function(k){if(k)k();var l=this.container.firstChild;if(l)c('Style').set(this.container,'height',l.offsetHeight+'px');},_showChainSuggestions:function(k){if(!(k in this._recentlyLikedPageIDs))return false;c('UIPagelet').loadFromEndpoint('PagesTimelineChainingPagelet',this.container,{pageID:k},{displayCallback:this.displayCallback.bind(this)});return true;},dismissCallback:function(k,l){c('CSS').hide(this.container);delete this._recentlyLikedPageIDs[l];if(this._subscriptions.length){this._subscriptions.forEach(function(m){return c('Arbiter').unsubscribe(m);});this._subscriptions=[];}},attachDismissCallback:function(k,l,m){c('Event').listen(k,'click',this.dismissCallback.bind(this,l,m));}};f.exports=j;},null);
__d('PagesTimelineSearchBar.react',['ix','cx','fbt','Arbiter','PagesEventObserver','PagesEventType','React','Image.react','XUIButton.react','XUITextInput.react','fbglyph'],function a(b,c,d,e,f,g,h,i,j){'use strict';if(c.__markCompiled)c.__markCompiled();var k=c('React').PropTypes,l=c('React').createClass({displayName:'PagesTimelineSearchBar',_lastQuery:'',propTypes:{pageID:k.string.isRequired,searchQuery:k.string.isRequired,maxLength:k.number.isRequired},getInitialState:function(){return {query:this.props.searchQuery,disabled:false};},componentWillMount:function(){c('Arbiter').subscribe('PagesTimelineSearch/searchDone',this._onSearchDone);},render:function(){var m=j._("Search for posts on this Page"),n=null;if(!this.state.disabled&&this.state.query)n=c('React').createElement(c('XUIButton.react'),{className:"_5wkw",image:c('React').createElement(c('Image.react'),{src:h("\/images\/assets_DO_NOT_HARDCODE\/fb_glyphs\/cross_16_bluegray-40.png")}),alt:j._("Clear"),onClick:this._onClear});var o=this.state.disabled?"_1fa6 _1wqb":"_1fa6";return (c('React').createElement('div',{className:o},c('React').createElement(c('XUIButton.react'),{className:"_3fbq",image:c('React').createElement(c('Image.react'),{src:h("\/images\/assets_DO_NOT_HARDCODE\/fb_glyphs\/magnifying-glass_16_bluegray-40.png")}),alt:j._("Search"),disabled:this.state.disabled,onClick:this._onSearch}),c('React').createElement(c('XUITextInput.react'),{className:"_3fbp",onChange:this._onChange,placeholder:m,value:this.state.query,onEnter:this._onSearch,disabled:this.state.disabled}),n));},_onClear:function(event){if(!this._lastQuery){this.setState({query:''});}else if(!this.state.disabled){this.setState({disabled:true,query:''});c('Arbiter').inform('PagesTimelineSearch/search',{query:''});c('PagesEventObserver').notify(c('PagesEventType').SEARCH_TIMELINE_POSTS,this.props.pageID,{searchTerm:''});}},_onChange:function(event){var m=event.target.value;if(m.length<=this.props.maxLength)this.setState({query:m});},_onSearch:function(event){if(!this.state.disabled){this.setState({disabled:true});c('Arbiter').inform('PagesTimelineSearch/search',{query:this.state.query});c('PagesEventObserver').notify(c('PagesEventType').SEARCH_TIMELINE_POSTS,this.props.pageID,{searchTerm:this.state.query});}},_onSearchDone:function(m,n){if(n.query===this.state.query){this.setState({disabled:false});this._lastQuery=n.query;}}});f.exports=l;},null);
__d('PagesInfoRequestsLogger',['AdminProposalsLoggerEvent','BanzaiLogger','immutable'],function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();var h=null,i=false,j={logTabView:function(){c('BanzaiLogger').log('AdminProposalsLoggerConfig',{event:c('AdminProposalsLoggerEvent').VIEWED_REQUESTS_TAB});if(h){this._logProposalsSeen();}else i=true;},setRenderedProposalIDs:function(k){h=c('immutable').List(k);if(i){this._logProposalsSeen();i=false;}},_logProposalsSeen:function(){h.forEach(function(k){c('BanzaiLogger').log('AdminProposalsLoggerConfig',{event:c('AdminProposalsLoggerEvent').VIEWED_PROPOSAL,proposal_id:k});});}};f.exports=j;},null);
__d('PlaceActionLink',['AsyncRequest','Dialog'],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h={start_claim_link:function(i){var j=new (c('AsyncRequest'))().setMethod('POST').setURI('/ajax/places/claim/start_claim.php').setData({id:i});new (c('Dialog'))().setAsync(j).show();return false;},refer_claim_link:function(i){var j=new (c('AsyncRequest'))().setMethod('POST').setURI('/ajax/places/claim/refer_claim.php').setData({id:i});new (c('Dialog'))().setAsync(j).show();return false;}};f.exports=h;},null);
__d('legacy:place-action-link',['PlaceActionLink'],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();b.PlaceActionLink=c('PlaceActionLink');},3);
__d('ProfileCoverEditControls',['ArbiterMixin','Event','mixin'],function a(b,c,d,e,f,g){var h,i;if(c.__markCompiled)c.__markCompiled();h=babelHelpers.inherits(j,c('mixin')(c('ArbiterMixin')));i=h&&h.prototype;function j(k,l,m,n){'use strict';i.constructor.call(this);this.root=k;this.save=l;this.cancel=m;this.input=n;c('Event').listen(l,'click',function(){this.inform('save');}.bind(this));c('Event').listen(m,'click',function(){this.inform('cancel');}.bind(this));}j.prototype.getSaveButton=function(){'use strict';return this.save;};j.prototype.getCancelButton=function(){'use strict';return this.cancel;};j.prototype.getInput=function(){'use strict';return this.input;};f.exports=j;},null);