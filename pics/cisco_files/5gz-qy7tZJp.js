/*!CK:3309525179!*//*1458859665,*/

if (self.CavalryLogger) { CavalryLogger.start_js(["lf+jv"]); }

__d("PostExpirationNuxType",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={COMPOSER_NUX:"composer_nux",TIMELINE_NUX:"timeline_nux",SCHEDULE_DIALOG_NUX:"schedule_dialog_nux"};},null);
__d('PostScheduleAndPostEndDialog.react',['cx','fbt','DatePickerRestraints','ExpirationType','React','ReactDOM','ReactLayeredComponentMixin','XUIAmbientNUX.react','XUICardSection.react','XUICheckboxInput.react','XUIDateTimePicker.react','XUIDialog.react','XUIDialogBody.react','XUIDialogFooter.react','XUIDialogTitle.react','XUIDialogButton.react','XUIDialogCancelButton.react','XUIGrayText.react','XUINotice.react','XUICard.react','XUIText.react','InputLabel.react','FBToggleSwitch.react'],function a(b,c,d,e,f,g,h,i){if(c.__markCompiled)c.__markCompiled();var j=c('React').PropTypes,k=60*1000,l=60*k,m=24*60*60*1000,n=30,o=6*n*m,p=11,q=450,r=325,s=c('React').createClass({displayName:'PostScheduleAndPostEndDialog',mixins:[c('ReactLayeredComponentMixin')],propTypes:{initialPublishDate:j.instanceOf(Date),initialPostEndDate:j.instanceOf(Date),isReschedule:j.bool,timezoneStr:j.string.isRequired,onSubmit:j.func.isRequired,defaultScheduledTimeDelta:j.number,showPostEndDate:j.bool,showExpire:j.bool,showExpireNux:j.bool,onNuxAcked:j.func,submitLabel:j.string},getDefaultProps:function(){return {defaultScheduledTimeDelta:p*k};},getInitialState:function(){return {shown:false,publishDate:this.props.initialPublishDate?this.props.initialPublishDate:new Date(Date.now()+this.props.defaultScheduledTimeDelta),postEndDate:this.props.initialPostEndDate?this.props.initialPostEndDate:new Date(Date.now()+l),scheduleToggle:true,postEndToggle:false,expireDate:new Date(Date.now()+l),expireToggle:false,expirationType:c('ExpirationType').HIDE,showNux:false};},show:function(){var t=this.getInitialState();t.showNux=this.props.showExpireNux;t.shown=true;this.setState(t);},_onNuxClose:function(){this.setState({showNux:false});this.props.onNuxAcked&&this.props.onNuxAcked();},renderLayers:function(){var t=this.props.isReschedule?i._("Reschedule Post"):i._("Schedule Post"),u=this.props.submitLabel?this.props.submitLabel:this.state.scheduleToggle?this.props.isReschedule?i._("Reschedule"):i._("Schedule"):i._("Publish"),v=c('React').createElement(c('FBToggleSwitch.react'),{ref:'postEndToggle',checked:this.state.postEndToggle,onToggle:function(){return this.setState({postEndToggle:!this.state.postEndToggle});}.bind(this)}),w=this._renderInvalidTimeNotice(),x=null;if(this.state.showNux&&this.refs.expirationToggle)x=c('React').createElement(c('XUIAmbientNUX.react'),{context:c('ReactDOM').findDOMNode(this.refs.expirationToggle),onCloseButtonClick:this._onNuxClose,position:'left',shown:true},i._("You can now choose when your post will unpublish."));return (c('React').createElement('div',null,c('React').createElement(c('XUIDialog.react'),{shown:this.state.shown,width:q,fixedTopPosition:r},c('React').createElement(c('XUIDialogTitle.react'),null,t),c('React').createElement(c('XUIDialogBody.react'),{className:"_hg8"},c('React').createElement('div',{className:"mvm"},c('React').createElement(c('XUIText.react'),{size:'large',weight:'bold'},i._("Publishing Schedule"))),c('React').createElement(c('InputLabel.react'),null,c('React').createElement(c('FBToggleSwitch.react'),{checked:this.state.scheduleToggle,onToggle:function(){return this.setState({scheduleToggle:!this.state.scheduleToggle});}.bind(this)}),c('React').createElement('label',null,i._("Publication"))),this._renderSchedule(),this._renderExpireSection(),c('React').createElement('div',{className:"mvm"},c('React').createElement(c('XUIText.react'),{size:'large',weight:'bold'},i._("Distribution Schedule"))),c('React').createElement(c('InputLabel.react'),null,v,c('React').createElement('label',null,i._("Stop News Feed Distribution"))),this._renderPostEndDate(),w),c('React').createElement(c('XUIDialogFooter.react'),null,c('React').createElement(c('XUIDialogCancelButton.react'),null),c('React').createElement(c('XUIDialogButton.react'),{action:'confirm',label:u,onClick:this._onSubmitClick,disabled:w!==null,use:'confirm'}))),x));},_isPublishTimeValid:function(){if(!this.state.scheduleToggle)return true;var t=this.state.publishDate.getTime(),u=Date.now()+10*k,v=Date.now()+o;return t>u&&t<v;},_isPostEndOrExpireTimeValid:function(t){var u=this.state.publishDate.getTime(),v=Date.now()+10*k,w=Date.now()+o;if(this.state.scheduleToggle)v=u+10*k;return (t>=v&&t<=w);},_renderSchedule:function(){if(!this.state.scheduleToggle)return null;return (c('React').createElement('div',null,c('React').createElement(c('XUIGrayText.react'),{shade:'light',size:'small',display:'block'},i._("Select a date and time in the future for when you want your post to publish.")),c('React').createElement(c('XUICard.react'),{background:'light-wash',className:"_2ph- _3-8n"},c('React').createElement(c('XUIDateTimePicker.react'),{dateRestraints:[c('DatePickerRestraints').enforceDateIsNoEarlierThan(new Date(Date.now()-m)),c('DatePickerRestraints').enforceDateIsNoLaterThan(new Date(Date.now()+o))],className:"_3-8x",date:this.state.publishDate,onChange:function(t){return this.setState({publishDate:t});}.bind(this),timezone:this.props.timezoneStr}))));},_renderExpireSection:function(){if(!this.props.showExpire)return null;var t=c('React').createElement(c('FBToggleSwitch.react'),{ref:'expirationToggle',checked:this.state.expireToggle,onToggle:function(){return this.setState({expireToggle:!this.state.expireToggle,showNux:false});}.bind(this)});return (c('React').createElement('div',null,c('React').createElement(c('InputLabel.react'),null,t,c('React').createElement('label',null,i._("Expiration"))),this._renderExpire()));},_renderExpire:function(){if(!this.state.expireToggle)return null;return (c('React').createElement('div',null,c('React').createElement(c('XUIGrayText.react'),{shade:'light',size:'small',display:'block'},i._("When a post expires, it will no longer be visible to the public. Page admins can still view unpublished posts and their Insights.")),c('React').createElement(c('XUICard.react'),{background:'light-wash',className:"_3-8n"},c('React').createElement(c('XUICardSection.react'),{className:"_2ph-"+(' '+"_3-8x")},c('React').createElement(c('XUIDateTimePicker.react'),{dateRestraints:[c('DatePickerRestraints').enforceDateIsNoEarlierThan(new Date(Date.now()-m)),c('DatePickerRestraints').enforceDateIsNoLaterThan(new Date(Date.now()+o))],date:this.state.expireDate,onChange:function(t){return this.setState({expireDate:t});}.bind(this),timezone:this.props.timezoneStr})),c('React').createElement(c('XUICardSection.react'),{className:"_2ph-"+(' '+"_3-8x")},c('React').createElement(c('InputLabel.react'),{className:"_3-8x"},c('React').createElement(c('XUICheckboxInput.react'),{checked:this.state.expirationType===c('ExpirationType').DELETE,onChange:this._handleExpirationTypeChanged}),c('React').createElement('label',null,c('React').createElement(c('XUIGrayText.react'),{shade:'light',size:'small',weight:'normal'},i._("Delete the post. Permanently remove the post and its insights at the scheduled time."))))))));},_renderPostEndDate:function(){if(!this.state.postEndToggle)return null;return (c('React').createElement('div',null,c('React').createElement(c('XUIGrayText.react'),{shade:'light',size:'small',display:'block'},i._("Select a date and time in the future for when you want your post to stop showing in News Feed. The post will still be visible, but News Feed distribution will end.")),c('React').createElement(c('XUICard.react'),{background:'light-wash',className:"_2ph- _3-8n"},c('React').createElement(c('XUIDateTimePicker.react'),{dateRestraints:[c('DatePickerRestraints').enforceDateIsNoEarlierThan(new Date(Date.now()-m)),c('DatePickerRestraints').enforceDateIsNoLaterThan(new Date(Date.now()+o))],date:this.state.postEndDate,onChange:function(t){return this.setState({postEndDate:t});}.bind(this),timezone:this.props.timezoneStr}))));},_renderInvalidTimeNotice:function(){var t=this._isPublishTimeValid(),u=!this.state.postEndToggle||this._isPostEndOrExpireTimeValid(this.state.postEndDate.getTime()),v=!this.state.expireToggle||this._isPostEndOrExpireTimeValid(this.state.expireDate.getTime()),w=t&&u&&v;if(w)return null;var x=null;if(!t){x=i._("Scheduled posts need to be shared between 10 minutes and 6 months from when you create them.");}else if(!u&&this.state.scheduleToggle){x=i._("News Feed distribution can only end between 10 minutes from when they are published and 6 months from now.");}else if(!u){x=i._("News Feed distribution can only end between 10 minutes and 6 months from when you create them.");}else if(!v&&this.state.scheduleToggle){x=i._("Posts need to be expired between 10 minutes from when they are published and 6 months from now.");}else if(!v)x=i._("Posts need to be expired between 10 minutes and 6 months from when you create them.");return (c('React').createElement(c('XUINotice.react'),{use:'warn',className:"_3-8x"},x));},render:function(){return (c('React').createElement('div',null));},_handleExpirationTypeChanged:function(event){var t=event.target.checked?c('ExpirationType').DELETE:c('ExpirationType').HIDE;this.setState({expirationType:t});},_onSubmitClick:function(){var t=null,u=null,v=null,w=null;if(this.state.scheduleToggle)t=this.state.publishDate;if(this.state.postEndToggle)u=this.state.postEndDate;if(this.state.expireToggle){v=this.state.expireDate;w=this.state.expirationType;}this.props.onSubmit(t,u,v,w);this.setState({shown:false});}});f.exports=s;},null);
__d('PostActionsHiddenInputsUpdater',['$','AdsAPITargetFields','DOM','DOMQuery'],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h='feed_targeted_data',i='targeted_privacy_data',j={clearHiddenInputsParams:function(){var k=arguments.length<=0||arguments[0]===undefined?c('$')('pabhiddeninputs'):arguments[0];this._clearParams(k);},_getInput:function(){var k=arguments.length<=0||arguments[0]===undefined?c('$')('pabhiddeninputs'):arguments[0],l=arguments[1],m=c('DOM').scry(k,l);if(m.length){return m[0];}else return {};},updateScheduleHiddenInputs:function(k,l){var m=arguments.length<=2||arguments[2]===undefined?c('$')('pabhiddeninputs'):arguments[2],n=this._getInput(m,'input[name="future_date"]'),o=this._getInput(m,'input[name="future_time"]'),p=this._getInput(m,'input[name="scheduled"]');n.value=k;o.value=l;p.value=k?true:'';},updatePostEndDateHiddenInputs:function(k,l){var m=arguments.length<=2||arguments[2]===undefined?c('$')('pabhiddeninputs'):arguments[2];this._appendInput(m,h+'[relevant-until-date]',k);this._appendInput(m,h+'[relevant-until-time]',l);},updateExpireHiddenInputs:function(k,l){var m=arguments.length<=2||arguments[2]===undefined?c('$')('pabhiddeninputs'):arguments[2],n=this._getInput(m,'input[name="expire_time"]'),o=this._getInput(m,'input[name="expiring"]'),p=this._getInput(m,'input[name="expire_type"]');n.value=k;o.value=k?true:'';p.value=l;},updateBackdateHiddenInputs:function(k,l,m,n){var o=arguments.length<=4||arguments[4]===undefined?c('$')('pabhiddeninputs'):arguments[4];this._clearParams(o);var p=this._getInput(o,'input[name="backdated_date[year]"]'),q=this._getInput(o,'input[name="backdated_date[month]"]'),r=this._getInput(o,'input[name="backdated_date[day]"]'),s=this._getInput(o,'input[name="hide_from_newsfeed"]');p.value=k;q.value=l;r.value=m;s.value=n;},updateTargetHiddenInputs:function(k){var l=arguments.length<=1||arguments[1]===undefined?c('$')('pabhiddeninputs'):arguments[1];this._deleteTargetInputs(l);if(k.hints)this._setInputValue(l,k.hints,h);if(k.targeting)this._setInputValue(l,k.targeting,h);if(k.gating)this._setInputValue(l,k.gating,i);},_clearParams:function(k){for(var l=0;l<k.children.length;l++)k.children[l].value='';},_deleteTargetInputs:function(k){var l=c('DOMQuery').scry(k,'input');for(var m=0;m<l.length;m++){var n=(l[m].name.indexOf(h)==0||l[m].name.indexOf(i)==0)&&l[m].name!==h+'[relevant-until-time]'&&l[m].name!==h+'[relevant-until-date]';if(n)c('DOM').remove(l[m]);}},_setBackdateParams:function(k){var l=k.getRoot(),m=this._getInput(l,'input[name="year"]').value,n=this._getInput(l,'input[name="hide"]'),o=c('DOM').scry(l,'input[name="month"]'),p=c('DOM').scry(l,'input[name="day"]');o=o.length&&o[0].value!==null&&o[0].value!=='0'?o[0].value:null;p=p.length&&p[0].value!==null&&p[0].value!=='0'?p[0].value:null;var q=c('$')('pabhiddeninputs');this._clearParams(q);var r=this._getInput(q,'input[name="backdated_date[year]"]'),s=this._getInput(q,'input[name="backdated_date[month]"]'),t=this._getInput(q,'input[name="backdated_date[day]"]'),u=this._getInput(q,'input[name="hide_from_newsfeed"]');r.value=m;s.value=o;t.value=p;u.value=n.checked;},_setInputValue:function(){var k=arguments.length<=0||arguments[0]===undefined?c('$')('pabhiddeninputs'):arguments[0],l=arguments[1],m=arguments[2];for(var n in l){var o=l[n],p=m+'['+n+']';if(n===c('AdsAPITargetFields').AGE_MAX||n===c('AdsAPITargetFields').AGE_MIN||n===c('AdsAPITargetFields').GENDERS){var q=n===c('AdsAPITargetFields').GENDERS?o[0]:o;this._appendInput(k,p,q);}else if(n===c('AdsAPITargetFields').GEO_LOCATIONS||n===c('AdsAPITargetFields').EXCLUDED_GEO_LOCATIONS){this._appendInput(k,p,JSON.stringify(o));}else if(n===c('AdsAPITargetFields').INTERESTS||n==='fan_of'){p=m+'['+n+'][]';this._appendArrayValueId(k,o,p);}else{p=m+'['+n+'][]';this._appendArrayValue(k,o,p);}}},_appendArrayValueId:function(){var k=arguments.length<=0||arguments[0]===undefined?c('$')('pabhiddeninputs'):arguments[0],l=arguments[1],m=arguments[2];l.forEach(function(n){this._appendInput(k,m,n.id);},this);},_appendArrayValue:function(){var k=arguments.length<=0||arguments[0]===undefined?c('$')('pabhiddeninputs'):arguments[0],l=arguments[1],m=arguments[2];l.forEach(function(n){this._appendInput(k,m,n);},this);},_appendInput:function(){var k=arguments.length<=0||arguments[0]===undefined?c('$')('pabhiddeninputs'):arguments[0],l=arguments[1],m=arguments[2];c('DOM').appendContent(k,c('DOM').create('input',{type:'hidden',name:l,value:m}));}};f.exports=j;},null);
__d("XPostExpirationNuxController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/page\/expiring_post\/nux\/",{});},null);
__d('ComposerXPostActionDropDownV2',['csx','cx','Arbiter','AsyncRequest','Button','ReactComposerTaggerType','CSS','DOM','Event','PagesEventObserver','PostActionsHiddenInputsUpdater','PostBackdateDialog.react','PostExpirationNuxType','PostScheduleAndPostEndDialog.react','PromotedPostConstants','React','ReactDOM','ReactTargetingTaggerStore.react','XPostExpirationNuxController','formatDate'],function a(b,c,d,e,f,g,h,i){if(c.__markCompiled)c.__markCompiled();function j(k,l,m,n,o,p){'use strict';this.menuInstance=k;this.postButton=l;this.postActionsButton=m;this.pageID=n.page_id;this.defaultAction=n.default_action;this.scheduleDialogPlaceholder=o;this.backdateDialogPlaceholder=p;this.timezone_str=n.timezone_str;this.minBackdateTime=n.min_backdate_time;this.showExpire=n.should_show_expire;this.defaultScheduleTimeDelta=n.default_schedule_time_delta;this.showExpireNux=n.should_show_expire_nux;this.hiddenInputs=n.hidden_inputs;this.composerID=n.composerID;this.menuInstance.subscribe('itemclick',function(q,r){switch(r.item.getValue()){case 'ads_post':this.$ComposerXPostActionDropDownV21();break;case 'draft':this.$ComposerXPostActionDropDownV22();break;case 'schedule':this.$ComposerXPostActionDropDownV23();break;case 'backdate':this.$ComposerXPostActionDropDownV24();break;case 'post':this.$ComposerXPostActionDropDownV25();break;}}.bind(this));c('Event').listen(this.postActionsButton,'click',function(){this.$ComposerXPostActionDropDownV26('pab_dropdown_click');}.bind(this));if(n.handle_post_click)c('Event').listen(this.postButton,'click',function(){var q=c('ReactTargetingTaggerStore.react').getTaggerData(this.pageID,c('ReactComposerTaggerType').TARGETING);c('PostActionsHiddenInputsUpdater').updateTargetHiddenInputs(q,this.hiddenInputs);c('ReactTargetingTaggerStore.react').clearComposerData(this.pageID);c('Arbiter').inform('composer/publish',{composer_id:this.composerID});}.bind(this));this.scheduleAnother=c('Arbiter').subscribe('composer/schedule_another',function(q){this.$ComposerXPostActionDropDownV23();this.scheduleAnother.unsubscribe();this.scheduleAnother=null;}.bind(this));if(n.should_show_nux){c('Arbiter').inform('composer/reset_pab_nux');this.$ComposerXPostActionDropDownV27();this.renderNuxSubscription=c('Arbiter').subscribe('composer/render_pab_nux',function(q){if(!n.nux_uri)return;new (c('AsyncRequest'))().setURI(n.nux_uri).send();this.renderNuxSubscription.unsubscribe();this.renderNuxSubscription=null;}.bind(this));}c('Arbiter').subscribe('AsyncRequest/error',function(q,r){if(r.request&&r.request.relativeTo===this.postButton.form)this.$ComposerXPostActionDropDownV28(true);}.bind(this));c('Arbiter').subscribe(['composer/reset'],function(q){if(this.hiddenInputsInstance)this.hiddenInputsInstance.afterSubmitPost(this.pageID);this.$ComposerXPostActionDropDownV28(true);}.bind(this));}j.prototype.initHiddenInputs=function(k){'use strict';this.hiddenInputsInstance=k;if(this.defaultAction==='save')this.hiddenInputsInstance.setDraftInputs();};j.prototype.$ComposerXPostActionDropDownV27=function(){'use strict';var k=c('DOM').scry(document,'#pab_nux_moved_indicator')[0],l=c('DOM').scry(document,'#pab_nux_click_to_finish')[0];if(k)k.removeAttribute('id');if(l)l.removeAttribute('id');this.postActionsButton.setAttribute('id','pab_nux_moved_indicator');this.postButton.setAttribute('id','pab_nux_click_to_finish');};j.prototype.$ComposerXPostActionDropDownV28=function(k){'use strict';if(this.hiddenInputsInstance)this.hiddenInputsInstance.resetInputs();this.$ComposerXPostActionDropDownV29();};j.prototype.$ComposerXPostActionDropDownV25=function(){'use strict';this.$ComposerXPostActionDropDownV28();this.$ComposerXPostActionDropDownV26('pab_post_selected');this.postButton.click();this.menuInstance.done();};j.prototype.$ComposerXPostActionDropDownV210=function(k){'use strict';var l=null,m=null;if(k){l=c('formatDate')(k,'m/d/Y',{skipPatternLocalization:true});m=60*(k.getHours()*60+k.getMinutes());}c('PostActionsHiddenInputsUpdater').clearHiddenInputsParams(this.hiddenInputs);c('PostActionsHiddenInputsUpdater').updateScheduleHiddenInputs(l,m,this.hiddenInputs);};j.prototype.$ComposerXPostActionDropDownV211=function(k,l,m,n){'use strict';this.$ComposerXPostActionDropDownV210(k);var o=null,p=null;if(l){o=c('formatDate')(l,'m/d/Y',{skipPatternLocalization:true});p=60*(l.getHours()*60+l.getMinutes());}c('PostActionsHiddenInputsUpdater').updatePostEndDateHiddenInputs(o,p,this.hiddenInputs);var q=null;if(m)q=m.getTime()/1000;c('PostActionsHiddenInputsUpdater').updateExpireHiddenInputs(q,n,this.hiddenInputs);this.postButton.click();};j.prototype.$ComposerXPostActionDropDownV212=function(){'use strict';this.showExpireNux=false;var k=c('XPostExpirationNuxController').getURIBuilder().getURI();new (c('AsyncRequest'))().setURI(k).setMethod('POST').setData({nux:c('PostExpirationNuxType').SCHEDULE_DIALOG_NUX,impression:true}).send();};j.prototype.$ComposerXPostActionDropDownV213=function(){'use strict';this.showExpireNux=false;var k=c('XPostExpirationNuxController').getURIBuilder().getURI();new (c('AsyncRequest'))().setURI(k).setMethod('POST').setData({nux:c('PostExpirationNuxType').SCHEDULE_DIALOG_NUX,impression:true}).send();};j.prototype.$ComposerXPostActionDropDownV23=function(){'use strict';this.$ComposerXPostActionDropDownV26('pab_schedule_selected');var k=c('React').createElement(c('PostScheduleAndPostEndDialog.react'),{timezoneStr:this.timezone_str,onSubmit:this.$ComposerXPostActionDropDownV211.bind(this),defaultScheduledTimeDelta:this.defaultScheduleTimeDelta,showExpire:this.showExpire,showExpireNux:this.showExpireNux,onNuxAcked:this.$ComposerXPostActionDropDownV213.bind(this)});if(this.showExpireNux)this.$ComposerXPostActionDropDownV212();k=c('ReactDOM').render(k,this.scheduleDialogPlaceholder);k.show();this.menuInstance.done();};j.prototype.$ComposerXPostActionDropDownV21=function(){'use strict';this.$ComposerXPostActionDropDownV28();this.$ComposerXPostActionDropDownV26('pab_ads_post_selected');this.$ComposerXPostActionDropDownV214();this.hiddenInputsInstance.setAdspostInputs();this.menuInstance.done();this.postButton.click();};j.prototype.$ComposerXPostActionDropDownV22=function(){'use strict';this.$ComposerXPostActionDropDownV28();this.$ComposerXPostActionDropDownV26('pab_draft_selected');this.$ComposerXPostActionDropDownV214();this.hiddenInputsInstance.setDraftInputs();this.menuInstance.done();this.postButton.click();};j.prototype.$ComposerXPostActionDropDownV24=function(){'use strict';this.$ComposerXPostActionDropDownV26('pab_backdate_selected');var k=c('React').createElement(c('PostBackdateDialog.react'),{maxTime:Date.now()/1000,minTime:this.minBackdateTime,onSubmit:this.$ComposerXPostActionDropDownV215.bind(this)});k=c('ReactDOM').render(k,this.backdateDialogPlaceholder);k.show();this.menuInstance.done();};j.prototype.$ComposerXPostActionDropDownV215=function(k,l,m,n){'use strict';c('PostActionsHiddenInputsUpdater').updateBackdateHiddenInputs(k,l,m,n,this.hiddenInputs);this.postButton.click(k,l,m,n);};j.prototype.$ComposerXPostActionDropDownV26=function(k){'use strict';var l={page_id:this.pageID,event_name:k};c('PagesEventObserver').logData_DEPRECATED(l,c('PagesEventObserver').VITAL_WAIT);};j.prototype.$ComposerXPostActionDropDownV216=function(){'use strict';var k=this.$ComposerXPostActionDropDownV217();if(k)return k;var l=c('DOM').scry(document,'div.fbBoostedPost')[0];if(!l)return null;return this.$ComposerXPostActionDropDownV218(l);};j.prototype.$ComposerXPostActionDropDownV218=function(k){'use strict';return c('DOM').scry(k,"button._4dyi")[0];};j.prototype.$ComposerXPostActionDropDownV217=function(){'use strict';var k=this.postActionsButton,l="_1dsp";do{if(c('CSS').hasClass(k,l))return this.$ComposerXPostActionDropDownV218(k);k=k.parentNode;}while(k);};j.prototype.$ComposerXPostActionDropDownV29=function(){'use strict';var k=this.$ComposerXPostActionDropDownV216();if(!k)return;c('Button').setEnabled(k,true);c('CSS').removeClass(k,"_ho3");};j.prototype.$ComposerXPostActionDropDownV214=function(){'use strict';var k=this.$ComposerXPostActionDropDownV216();if(!k)return;c('Button').setEnabled(k,false);c('CSS').addClass(k,"_ho3");c('Arbiter').inform(c('PromotedPostConstants').CLEAR_COMPOSER_BOOST);};f.exports=j;},null);
__d('PostActionsHiddenInputs',['ActorURI','AsyncRequest','XUnpublishedPostSuccessController'],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();function h(i,j,k,l,m,n,o,p,q,r,s,t){'use strict';this.dateInput=i;this.timeInput=j;this.schedulingInput=k;this.draftInput=l;this.backdateYearInput=m;this.backdateMonthInput=n;this.backdateDayInput=o;this.hideFromNewsFeedInput=p;this.expireTimeInput=q;this.expiringInput=r;this.expireTypeInput=s;this.adsPostInput=t;}h.prototype.updateInputs=function(i){'use strict';switch(i.element){case 'dateinput':this.dateInput.value=i.value;this.schedulingInput.value=true;break;case 'timeinput':this.timeInput.value=i.value;this.schedulingInput.value=true;break;case 'backdater':this.setBackdateInputs(i);break;case 'hidefromnewsfeed':this.setHideFromNewsfeed(i);break;default:break;}};h.prototype.setScheduleInputs=function(i){'use strict';if(this.schedulingInput){this.schedulingInput.value=true;this.dateInput.value=i.date;this.timeInput.value=i.time;}};h.prototype.setDraftInputs=function(){'use strict';if(this.draftInput)this.draftInput.value=true;};h.prototype.setBackdateInputs=function(i){'use strict';if(this.backdateYearInput){this.backdateYearInput.value=i.value.year||null;this.backdateMonthInput.value=i.value.month||null;this.backdateDayInput.value=i.value.day||null;}};h.prototype.setHideFromNewsfeed=function(i){'use strict';this.hideFromNewsFeedInput.value=i.value;};h.prototype.setAdspostInputs=function(){'use strict';if(this.adsPostInput)this.adsPostInput.value=true;};h.prototype.resetInputs=function(){'use strict';if(this.schedulingInput){this.dateInput.value='';this.timeInput.value='';this.schedulingInput.value='';}if(this.expiringInput){this.expiringInput.value='';this.expireTimeInput.value='';this.expireTypeInput.value='';}if(this.backdateYearInput){this.backdateYearInput.value=null;this.backdateMonthInput.value=null;this.backdateDayInput.value=null;this.hideFromNewsFeedInput.value='';}if(this.draftInput)this.draftInput.value='';if(this.adsPostInput)this.adsPostInput.value='';};h.prototype.afterSubmitPost=function(i){'use strict';var j;if(this.schedulingInput&&this.schedulingInput.value){j='scheduled';}else if(this.expiringInput&&this.expiringInput.value){j='expiring';}else if(this.draftInput&&this.draftInput.value)j='draft';if(!j)return;var k=c('XUnpublishedPostSuccessController').getURIBuilder().setString('type',j).getURI();k=c('ActorURI').create(k,i);new (c('AsyncRequest'))().setURI(k).send();};f.exports=h;},null);
__d('ReactPrivacyTaggerButton.react',['Arbiter','ReactComposerContextConfig','ReactComposerContextProviderMixin','ReactComposerPagesPrivacySelector.react','ReactComposerTaggerType','ReactComponentWithPureRenderMixin','React','ReactTargetingTaggerStore.react','StoreBasedStateMixinHelper'],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=c('React').PropTypes,i=c('React').createClass({displayName:'ReactPrivacyTaggerButton',mixins:[c('ReactComponentWithPureRenderMixin'),c('ReactComposerContextProviderMixin')],propTypes:{contextConfig:c('ReactComposerContextConfig').isRequired,lockToPrivacy:h.string,isVideoDialog:h.bool},getInitialState:function(){return {};},componentWillMount:function(){this._mixin=new (c('StoreBasedStateMixinHelper'))([c('ReactTargetingTaggerStore.react')]);this._mixin.subscribeCallback(function(){this.setState(this.constructor.calculateState(this.props));}.bind(this));c('Arbiter').subscribe(['composer/publish','composer/close'],function(){this.setState({gatingSentences:undefined});}.bind(this));},componentWillUnmount:function(){this._mixin.release();},statics:{calculateState:function(j){var k=c('ReactTargetingTaggerStore.react').getTaggerData(j.contextConfig.targetID,c('ReactComposerTaggerType').TARGETING)||{};return {gatingSentences:k&&k.gatingSentences};}},render:function(){return (c('React').createElement(c('ReactComposerPagesPrivacySelector.react'),{gatingSentences:this.state.gatingSentences,useReactPrivacyDialogForLegacy:true,isVideoDialog:this.props.isVideoDialog,useTargetingAsFilter:this.props.useTargetingAsFilter}));}});f.exports=i;},null);